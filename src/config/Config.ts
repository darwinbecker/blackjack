import Heart2 from "../assets/Blackjack-Karten/Herz-Karten/2-Herz-Karte.svg";
import Heart3 from "../assets/Blackjack-Karten/Herz-Karten/3-Herz-Karte.svg";
import Heart4 from "../assets/Blackjack-Karten/Herz-Karten/4-Herz-Karte.svg";
import Heart5 from "../assets/Blackjack-Karten/Herz-Karten/5-Herz-Karte.svg";
import Heart6 from "../assets/Blackjack-Karten/Herz-Karten/6-Herz-Karte.svg";
import Heart7 from "../assets/Blackjack-Karten/Herz-Karten/7-Herz-Karte.svg";
import Heart8 from "../assets/Blackjack-Karten/Herz-Karten/8-Herz-Karte.svg";
import Heart9 from "../assets/Blackjack-Karten/Herz-Karten/9-Herz-Karte.svg";
import Heart10 from "../assets/Blackjack-Karten/Herz-Karten/10-Herz-Karte.svg";
import HeartJack from "../assets/Blackjack-Karten/Herz-Karten/Jack-Herz-Karte.svg";
import HeartQueen from "../assets/Blackjack-Karten/Herz-Karten/Queen-Herz-Karte.svg";
import HeartKing from "../assets/Blackjack-Karten/Herz-Karten/King-Herz-Karte.svg";
import HeartAce from "../assets/Blackjack-Karten/Herz-Karten/Ass-Herz-Karte.svg";

import Diamond2 from "../assets/Blackjack-Karten/Karo-Karten/2-Karo-Karte.svg";
import Diamond3 from "../assets/Blackjack-Karten/Karo-Karten/3-Karo-Karte.svg";
import Diamond4 from "../assets/Blackjack-Karten/Karo-Karten/4-Karo-Karte.svg";
import Diamond5 from "../assets/Blackjack-Karten/Karo-Karten/5-Karo-Karte.svg";
import Diamond6 from "../assets/Blackjack-Karten/Karo-Karten/6-Karo-Karte.svg";
import Diamond7 from "../assets/Blackjack-Karten/Karo-Karten/7-Karo-Karte.svg";
import Diamond8 from "../assets/Blackjack-Karten/Karo-Karten/8-Karo-Karte.svg";
import Diamond9 from "../assets/Blackjack-Karten/Karo-Karten/9-Karo-Karte.svg";
import Diamond10 from "../assets/Blackjack-Karten/Karo-Karten/10-Karo-Karte.svg";
import DiamondJack from "../assets/Blackjack-Karten/Karo-Karten/Jack-Karo-Karte.svg";
import DiamondQueen from "../assets/Blackjack-Karten/Karo-Karten/Queen-Karo-Karte.svg";
import DiamondKing from "../assets/Blackjack-Karten/Karo-Karten/King-Karo-Karte.svg";
import DiamondAce from "../assets/Blackjack-Karten/Karo-Karten/Ass-Karo-Karte.svg";

import Spade2 from "../assets/Blackjack-Karten/Pik-Karten/2-Pik-Karte.svg";
import Spade3 from "../assets/Blackjack-Karten/Pik-Karten/3-Pik-Karte.svg";
import Spade4 from "../assets/Blackjack-Karten/Pik-Karten/4-Pik-Karte.svg";
import Spade5 from "../assets/Blackjack-Karten/Pik-Karten/5-Pik-Karte.svg";
import Spade6 from "../assets/Blackjack-Karten/Pik-Karten/6-Pik-Karte.svg";
import Spade7 from "../assets/Blackjack-Karten/Pik-Karten/7-Pik-Karte.svg";
import Spade8 from "../assets/Blackjack-Karten/Pik-Karten/8-Pik-Karte.svg";
import Spade9 from "../assets/Blackjack-Karten/Pik-Karten/9-Pik-Karte.svg";
import Spade10 from "../assets/Blackjack-Karten/Pik-Karten/10-Pik-Karte.svg";
import SpadeJack from "../assets/Blackjack-Karten/Pik-Karten/Jack-Pik-Karte.svg";
import SpadeQueen from "../assets/Blackjack-Karten/Pik-Karten/Queen-Pik-Karte.svg";
import SpadeKing from "../assets/Blackjack-Karten/Pik-Karten/King-Pik-Karte.svg";
import SpadeAce from "../assets/Blackjack-Karten/Pik-Karten/Ass-Pik-Karte.svg";

import Club2 from "../assets/Blackjack-Karten/Kreuz-Karten/2-Kreuz-Karte.svg";
import Club3 from "../assets/Blackjack-Karten/Kreuz-Karten/3-Kreuz-Karte.svg";
import Club4 from "../assets/Blackjack-Karten/Kreuz-Karten/4-Kreuz-Karte.svg";
import Club5 from "../assets/Blackjack-Karten/Kreuz-Karten/5-Kreuz-Karte.svg";
import Club6 from "../assets/Blackjack-Karten/Kreuz-Karten/6-Kreuz-Karte.svg";
import Club7 from "../assets/Blackjack-Karten/Kreuz-Karten/7-Kreuz-Karte.svg";
import Club8 from "../assets/Blackjack-Karten/Kreuz-Karten/8-Kreuz-Karte.svg";
import Club9 from "../assets/Blackjack-Karten/Kreuz-Karten/9-Kreuz-Karte.svg";
import Club10 from "../assets/Blackjack-Karten/Kreuz-Karten/10-Kreuz-Karte.svg";
import ClubJack from "../assets/Blackjack-Karten/Kreuz-Karten/Jack-Kreuz-Karte.svg";
import ClubQueen from "../assets/Blackjack-Karten/Kreuz-Karten/Queen-Kreuz-Karte.svg";
import ClubKing from "../assets/Blackjack-Karten/Kreuz-Karten/King-Kreuz-Karte.svg";
import ClubAce from "../assets/Blackjack-Karten/Kreuz-Karten/Ass-Kreuz-Karte.svg";

import CardBack from "../assets/Blackjack-Karten/Karte-Back.svg";
import HeartSymbol from "../assets/Blackjack-Symbole/Herz.svg";
import DiamondSymbol from "../assets/Blackjack-Symbole/Karo.svg";
import SpadeSymbol from "../assets/Blackjack-Symbole/Pik.svg";
import ClubSymbol from "../assets/Blackjack-Symbole/Kreuz.svg";

export const CARDS = [
  Heart2,
  Heart3,
  Heart4,
  Heart5,
  Heart6,
  Heart7,
  Heart8,
  Heart9,
  Heart10,
  HeartJack,
  HeartQueen,
  HeartKing,
  HeartAce,

  Diamond2,
  Diamond3,
  Diamond4,
  Diamond5,
  Diamond6,
  Diamond7,
  Diamond8,
  Diamond9,
  Diamond10,
  DiamondJack,
  DiamondQueen,
  DiamondKing,
  DiamondAce,

  Spade2,
  Spade3,
  Spade4,
  Spade5,
  Spade6,
  Spade7,
  Spade8,
  Spade9,
  Spade10,
  SpadeJack,
  SpadeQueen,
  SpadeKing,
  SpadeAce,

  Club2,
  Club3,
  Club4,
  Club5,
  Club6,
  Club7,
  Club8,
  Club9,
  Club10,
  ClubJack,
  ClubQueen,
  ClubKing,
  ClubAce,
];

export const CARDS_FULL = [
  {
    id: 0,
    name: "Heart 2",
    shortCode: "H2",
    value: "2",
    image: Heart2,
    symbol: HeartSymbol,
  },
  {
    id: 1,
    name: "Heart 3",
    shortCode: "H3",
    value: "3",
    image: Heart3,
    symbol: HeartSymbol,
  },
  {
    id: 2,
    name: "Heart 4",
    shortCode: "H4",
    value: "4",
    image: Heart4,
    symbol: HeartSymbol,
  },
  {
    id: 3,
    name: "Heart 5",
    shortCode: "H5",
    value: "5",
    image: Heart5,
    symbol: HeartSymbol,
  },
  {
    id: 4,
    name: "Heart 6",
    shortCode: "H6",
    value: "6",
    image: Heart6,
    symbol: HeartSymbol,
  },
  {
    id: 5,
    name: "Heart 7",
    shortCode: "H7",
    value: "7",
    image: Heart7,
    symbol: HeartSymbol,
  },
  {
    id: 6,
    name: "Heart 8",
    shortCode: "H8",
    value: "8",
    image: Heart8,
    symbol: HeartSymbol,
  },
  {
    id: 7,
    name: "Heart 9",
    shortCode: "H9",
    value: "9",
    image: Heart9,
    symbol: HeartSymbol,
  },
  {
    id: 8,
    name: "Heart 10",
    shortCode: "H10",
    value: "10",
    image: Heart10,
    symbol: HeartSymbol,
  },
  {
    id: 9,
    name: "Heart Jack",
    shortCode: "HJ",
    value: "J",
    image: HeartJack,
    symbol: HeartSymbol,
  },
  {
    id: 10,
    name: "Heart Queen",
    shortCode: "HQ",
    value: "Q",
    image: HeartQueen,
    symbol: HeartSymbol,
  },
  {
    id: 11,
    name: "Heart King",
    shortCode: "HK",
    value: "K",
    image: HeartKing,
    symbol: HeartSymbol,
  },
  {
    id: 12,
    name: "Heart Ace",
    shortCode: "HA",
    value: "A",
    image: HeartAce,
    symbol: HeartSymbol,
  },
  {
    id: 13,
    name: "Diamond 2",
    shortCode: "D2",
    value: "2",
    image: Diamond2,
    symbol: DiamondSymbol,
  },
  {
    id: 14,
    name: "Diamond 3",
    shortCode: "D3",
    value: "3",
    image: Diamond3,
    symbol: DiamondSymbol,
  },
  {
    id: 15,
    name: "Diamond 4",
    shortCode: "D4",
    value: "4",
    image: Diamond4,
    symbol: DiamondSymbol,
  },
  {
    id: 16,
    name: "Diamond 5",
    shortCode: "D5",
    value: "5",
    image: Diamond5,
    symbol: DiamondSymbol,
  },
  {
    id: 17,
    name: "Diamond 6",
    shortCode: "D6",
    value: "6",
    image: Diamond6,
    symbol: DiamondSymbol,
  },
  {
    id: 18,
    name: "Diamond 7",
    shortCode: "D7",
    value: "7",
    image: Diamond7,
    symbol: DiamondSymbol,
  },
  {
    id: 19,
    name: "Diamond 8",
    shortCode: "D8",
    value: "8",
    image: Diamond8,
    symbol: DiamondSymbol,
  },
  {
    id: 20,
    name: "Diamond 9",
    shortCode: "D9",
    value: "9",
    image: Diamond9,
    symbol: DiamondSymbol,
  },
  {
    id: 21,
    name: "Diamond 10",
    shortCode: "D10",
    value: "10",
    image: Diamond10,
    symbol: DiamondSymbol,
  },
  {
    id: 22,
    name: "Diamond Jack",
    shortCode: "DJ",
    value: "J",
    image: DiamondJack,
    symbol: DiamondSymbol,
  },
  {
    id: 23,
    name: "Diamond Queen",
    shortCode: "DQ",
    value: "Q",
    image: DiamondQueen,
    symbol: DiamondSymbol,
  },
  {
    id: 24,
    name: "Diamond King",
    shortCode: "DK",
    value: "K",
    image: DiamondKing,
    symbol: DiamondSymbol,
  },
  {
    id: 25,
    name: "Diamond Ace",
    shortCode: "DA",
    value: "A",
    image: DiamondAce,
    symbol: DiamondSymbol,
  },
  {
    id: 26,
    name: "Spade 2",
    shortCode: "S2",
    value: "2",
    image: Spade2,
    symbol: SpadeSymbol,
  },
  {
    id: 27,
    name: "Spade 3",
    shortCode: "S3",
    value: "3",
    image: Spade3,
    symbol: SpadeSymbol,
  },
  {
    id: 28,
    name: "Spade 4",
    shortCode: "S4",
    value: "4",
    image: Spade4,
    symbol: SpadeSymbol,
  },
  {
    id: 29,
    name: "Spade 5",
    shortCode: "S5",
    value: "5",
    image: Spade5,
    symbol: SpadeSymbol,
  },
  {
    id: 30,
    name: "Spade 6",
    shortCode: "S6",
    value: "6",
    image: Spade6,
    symbol: SpadeSymbol,
  },
  {
    id: 31,
    name: "Spade 7",
    shortCode: "S7",
    value: "7",
    image: Spade7,
    symbol: SpadeSymbol,
  },
  {
    id: 32,
    name: "Spade 8",
    shortCode: "S8",
    value: "8",
    image: Spade8,
    symbol: SpadeSymbol,
  },
  {
    id: 33,
    name: "Spade 9",
    shortCode: "S9",
    value: "9",
    image: Spade9,
    symbol: SpadeSymbol,
  },
  {
    id: 34,
    name: "Spade 10",
    shortCode: "S10",
    value: "10",
    image: Spade10,
    symbol: SpadeSymbol,
  },
  {
    id: 35,
    name: "Spade Jack",
    shortCode: "SJ",
    value: "J",
    image: SpadeJack,
    symbol: SpadeSymbol,
  },
  {
    id: 36,
    name: "Spade Queen",
    shortCode: "SQ",
    value: "Q",
    image: SpadeQueen,
    symbol: SpadeSymbol,
  },
  {
    id: 37,
    name: "Spade King",
    shortCode: "SK",
    value: "K",
    image: SpadeKing,
    symbol: SpadeSymbol,
  },
  {
    id: 38,
    name: "Spade Ace",
    shortCode: "SA",
    value: "A",
    image: SpadeAce,
    symbol: SpadeSymbol,
  },
  {
    id: 39,
    name: "Club 2",
    shortCode: "C2",
    value: "2",
    image: Club2,
    symbol: ClubSymbol,
  },
  {
    id: 40,
    name: "Club 3",
    shortCode: "C3",
    value: "3",
    image: Club3,
    symbol: ClubSymbol,
  },
  {
    id: 41,
    name: "Club 4",
    shortCode: "C4",
    value: "4",
    image: Club4,
    symbol: ClubSymbol,
  },
  {
    id: 42,
    name: "Club 5",
    shortCode: "C5",
    value: "5",
    image: Club5,
    symbol: ClubSymbol,
  },
  {
    id: 43,
    name: "Club 6",
    shortCode: "C6",
    value: "6",
    image: Club6,
    symbol: ClubSymbol,
  },
  {
    id: 44,
    name: "Club 7",
    shortCode: "C7",
    value: "7",
    image: Club7,
    symbol: ClubSymbol,
  },
  {
    id: 45,
    name: "Club 8",
    shortCode: "C8",
    value: "8",
    image: Club8,
    symbol: ClubSymbol,
  },
  {
    id: 46,
    name: "Club 9",
    shortCode: "C9",
    value: "9",
    image: Club9,
    symbol: ClubSymbol,
  },
  {
    id: 47,
    name: "Club 10",
    shortCode: "C10",
    value: "10",
    image: Club10,
    symbol: ClubSymbol,
  },
  {
    id: 48,
    name: "Club Jack",
    shortCode: "CJ",
    value: "J",
    image: ClubJack,
    symbol: ClubSymbol,
  },
  {
    id: 49,
    name: "Club Queen",
    shortCode: "CQ",
    value: "Q",
    image: ClubQueen,
    symbol: ClubSymbol,
  },
  {
    id: 50,
    name: "Club King",
    shortCode: "CK",
    value: "K",
    image: ClubKing,
    symbol: ClubSymbol,
  },
  {
    id: 51,
    name: "Club Ace",
    shortCode: "CA",
    value: "A",
    image: ClubAce,
    symbol: ClubSymbol,
  },
];

export const max = (arr: number[]): number =>
  arr.reduce((a, b) => Math.max(a, b));
export const min = (arr: number[]): number =>
  arr.reduce((a, b) => Math.min(a, b));
export const sum = (arr: number[]): number => arr.reduce((a, b) => a + b);

export const parseCardValue = (cardValue: string): number => {
  if (cardValue === "A") {
    return 11;
  } else if (cardValue === "J" || cardValue === "Q" || cardValue === "K") {
    return 10;
  } else {
    return parseInt(cardValue);
  }
};

export const determineCardValues = (cardValue: number): number[] => {
  if (cardValue === 11) {
    return [1, 11];
  } else {
    return [cardValue];
  }
};

export const determineHandValue =
  (strategy: (arr: number[]) => number): Function =>
  (hand: number[]): number =>
    sum(hand.map(determineCardValues).map(strategy));

// export const determineHandValueWithAce = (hand: number[]) => {
//   const handValue = determineHandValue(max)(hand);
//   if (handValue > 21) {
//     return determineHandValue(min)(hand);
//   } else {
//     return handValue;
//   }
// }

// export const determineHandValueWithoutAce = (hand: number[]) =>
//   determineHandValue(sum)(hand);

// export const determineHandValueWithAceAndWithoutAce = (hand: number[]) => {
//   const handValueWithAce = determineHandValueWithAce(hand);
//   const handValueWithoutAce = determineHandValueWithoutAce(hand);
//   if (handValueWithAce > 21) {
//     return handValueWithoutAce;
//   } else {
//     return handValueWithAce;
//   }
// }

export const isBust = (handValue: number): boolean => handValue > 21;

export const optimisticF = determineHandValue(max);
export const pessimisticF = determineHandValue(min);

export const determineBestHandValue = (hand: number[]): number => {
  // Aces won't ever be counted as 11 more than once
  // => assign all to 1 apart from first ace
  const replacedHand = hand.map((h) => (h === 11 ? 1 : h));
  const firstAceIdx = replacedHand.indexOf(1);
  const replacedHandUpdated =
    firstAceIdx !== -1
      ? replacedHand.map((h, i) => (i === firstAceIdx ? 11 : h))
      : replacedHand;
  const optimisticValue = optimisticF(replacedHandUpdated);

  return isBust(optimisticValue)
    ? pessimisticF(replacedHandUpdated)
    : optimisticValue;
};
